{"version":3,"sources":["firebase.js","components/authentication/AuthContext.js","components/authentication/CenteredContainer.js","components/authentication/SignUp.js","components/Profile.js","components/authentication/LogIn.js","components/authentication/ForgotPassword.js","components/authentication/UpdateProfile.js","components/authentication/PrivateRoute.js","components/media/drive img.png","components/dashboard/Navbar.js","components/hooks/useFolder.js","components/dashboard/FolderBtn.js","components/dashboard/FileBtn.js","components/dashboard/FolderBreadcrums.js","components/dashboard/Folder.js","components/dashboard/File.js","components/dashboard/Dashboard.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","database","folders","collection","files","formatDoc","doc","id","data","getCurrentTimestamp","FieldValue","serverTimestamp","storage","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","forgotPassword","sendPasswordResetEmail","updateEmail","updatePassword","Provider","CenteredContainer","Container","className","style","minHeight","maxWidth","SignUp","emailRef","useRef","passwordRef","passwordConfirmRef","error","setError","e","a","preventDefault","current","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","type","ref","placeholder","required","Button","disabled","to","Profile","history","useHistory","push","onClick","LogIn","ForgotPassword","message","setMessage","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","PrivateRoute","Component","component","rest","render","props","NavbarComp","Navbar","bg","expand","Brand","as","Link","alt","src","DriveLogo","width","height","Nav","ACTIONS","ROOT_FOLDER","name","path","reducer","state","payload","folderId","folder","childFolders","childFiles","FolderBtn","currentFolder","open","setOpen","setName","closeModal","size","icon","faFolderPlus","Modal","show","onHide","add","parentId","userId","uid","createdAt","getCurrentTimeStamp","onChange","target","Footer","AddFileButton","uploadingFiles","setUploadingFiles","faFileUpload","file","uuidV4","prevUploadingFiles","progress","filePath","join","uploadTask","put","on","snapshot","bytesTransferred","totalBytes","map","uploadFile","filter","getDownloadURL","url","where","get","existingFiles","existingFile","docs","update","opacity","position","left","length","ReactDOM","createPortal","bottom","right","Toast","onClose","Header","closeButton","ProgressBar","animated","now","label","Math","round","document","body","FolderBreadcrumbs","Breadcrumb","listProps","index","Item","linkAs","linkProps","pathname","slice","active","Folder","faFolder","File","href","faFile","Dashboard","useParams","useLocation","useReducer","dispatch","orderBy","onSnapshot","useFolder","fluid","childFolder","childFile","App","exact","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.99537a8d.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nconst app = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n})\r\n\r\nconst firestore = app.firestore();\r\nexport const database = {\r\n    folders: firestore.collection('folders'),\r\n    files: firestore.collection('files'),\r\n    formatDoc: doc => {\r\n        return {id:doc.id, ...doc.data()}\r\n    },\r\n    getCurrentTimestamp:firebase.firestore.FieldValue.serverTimestamp\r\n}\r\nexport const storage = app.storage();\r\nexport const auth = app.auth();\r\nexport default app;","import React,{useState, useEffect, useContext} from 'react'\r\nimport {auth} from '../../firebase';\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport function useAuth(){\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({children}) {\r\n    const [currentUser, setCurrentUser] = useState();\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    function signup(email, password){\r\n        return auth.createUserWithEmailAndPassword(email,password);\r\n    }\r\n\r\n    function login(email, password){\r\n        return auth.signInWithEmailAndPassword(email,password);\r\n    }\r\n\r\n    function logout(){\r\n        return auth.signOut();\r\n    }\r\n\r\n    function forgotPassword(email){\r\n        return auth.sendPasswordResetEmail(email);\r\n    }\r\n\r\n    function updateEmail(email){\r\n        return currentUser.updateEmail(email);\r\n    }\r\n\r\n    function updatePassword(password){\r\n        return currentUser.updatePassword(password);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user);\r\n            setLoading(false);\r\n        })\r\n        return unsubscribe;\r\n    },[])\r\n\r\n    const value = {\r\n        currentUser,\r\n        signup,\r\n        login,\r\n        logout,\r\n        forgotPassword,\r\n        updateEmail,\r\n        updatePassword\r\n    }\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {Container} from 'react-bootstrap';\r\n\r\nexport default function CenteredContainer({children}) {\r\n    return (\r\n        <Container \r\n            className=\"container d-flex align-items-center justify-content-center\"\r\n            style={{minHeight:'100vh'}}\r\n        >\r\n        <div className=\"w-100\" style={{maxWidth:'400px'}}>\r\n            {children}\r\n        </div>\r\n        </Container>\r\n    )\r\n}\r\n","import React,{useState, useRef} from 'react'\r\nimport {Card, Form, Button, Alert} from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom';\r\nimport {useAuth} from './AuthContext';\r\nimport CenteredContainer from './CenteredContainer';\r\n\r\n\r\nconst SignUp = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n    const {signup} = useAuth();\r\n\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    async function onSubmitForm(e){\r\n        e.preventDefault();\r\n        if(passwordRef.current.value !== passwordConfirmRef.current.value){\r\n            return setError('Passwords do not match!!')\r\n        }\r\n\r\n        try{\r\n            setError('')\r\n            setLoading(true)\r\n            await signup(emailRef.current.value, passwordRef.current.value);\r\n        }catch{\r\n            setError('Failed to create an account')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <CenteredContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n                    {error && <Alert variant='danger'>{error}</Alert>}\r\n                    <Form onSubmit={onSubmitForm}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} placeholder=\"Email\" required></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} placeholder=\"Password\" required></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"passwordConfirm\">\r\n                            <Form.Label>Password Confirmation</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordConfirmRef} placeholder=\"Confirm Password\" required></Form.Control>\r\n                        </Form.Group>\r\n                        <Button disabled={loading} type=\"submit\" className=\"w-100\">Sign Up</Button>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Already have an account? <Link to=\"/login\">Log In</Link>\r\n            </div>\r\n        </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default SignUp;\r\n","import React,{useState} from 'react'\r\nimport {Card, Button, Alert} from 'react-bootstrap';\r\nimport {useAuth} from './authentication/AuthContext';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport CenteredContainer from '../components/authentication/CenteredContainer';\r\n\r\nfunction Profile(){\r\n    const [error,setError] = useState('');\r\n    const {currentUser, logout} = useAuth();\r\n    const history = useHistory();\r\n\r\n    async function handleLogOut(){\r\n        setError('')\r\n        try{\r\n            await logout()\r\n            history.push('/login')\r\n        }catch{\r\n            setError('Failed To Logout')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <CenteredContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Profile</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <strong>Email: </strong> {currentUser.email}\r\n                    <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">Update Profile</Link>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2 d-flex align-items-center justify-content-center\">\r\n                <Link variant='link' to=\"/\">\r\n                    Back\r\n                </Link>\r\n                <Button variant='link' onClick={handleLogOut}>\r\n                    Log Out\r\n                </Button>\r\n            </div>\r\n        </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default Profile;\r\n","import React,{useState, useRef} from 'react'\r\nimport {Card, Form, Button, Alert} from 'react-bootstrap';\r\nimport {Link,useHistory} from 'react-router-dom';\r\nimport {useAuth} from './AuthContext';\r\nimport CenteredContainer from './CenteredContainer';\r\n\r\n\r\nconst LogIn = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n\r\n    const {login} = useAuth();\r\n\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n\r\n    async function onSubmitForm(e){\r\n        e.preventDefault();\r\n        \r\n        try{\r\n            setError('')\r\n            setLoading(true)\r\n            await login(emailRef.current.value, passwordRef.current.value);\r\n            history.push('/')\r\n        }catch{\r\n            setError('Failed to Sign In')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <CenteredContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Log In</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <Form onSubmit={onSubmitForm}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} placeholder=\"Email\" required></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} placeholder=\"Password\" required></Form.Control>\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" className=\"w-100\">Log In</Button>\r\n                    </Form>\r\n                    <div className=\"w-100 text-center mt-2\">\r\n                        <Link to=\"/forgot-password\">Forgot Password?</Link>\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n            <div disabled={loading} className=\"w-100 text-center mt-2\">\r\n                Don't have an account? <Link to=\"/signup\">Sign Up</Link>\r\n            </div>\r\n        </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default LogIn;\r\n","import React,{useState, useRef} from 'react'\r\nimport {Card, Form, Button, Alert} from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom';\r\nimport {useAuth} from './AuthContext';\r\nimport CenteredContainer from './CenteredContainer';\r\n\r\n\r\nconst ForgotPassword = () => {\r\n    const emailRef = useRef();\r\n\r\n    const {forgotPassword} = useAuth();\r\n\r\n    const [error, setError] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    async function onSubmitForm(e){\r\n        e.preventDefault();\r\n        \r\n        try{\r\n            setMessage('')\r\n            setError('')\r\n            setLoading(true)\r\n            await forgotPassword(emailRef.current.value)\r\n            setMessage('Check E-mail for further instructions.')\r\n            \r\n        }catch{\r\n            setError('Failed to reset password')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <CenteredContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Password Reset</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    {message && <Alert variant=\"success\">{message}</Alert>}\r\n                    <Form onSubmit={onSubmitForm}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} placeholder=\"Email\" required></Form.Control>\r\n                        </Form.Group>\r\n                        \r\n                        <Button type=\"submit\" className=\"w-100\">Reset Password</Button>\r\n                    </Form>\r\n                    <div className=\"w-100 text-center mt-2\">\r\n                        <Link to=\"/login\">Log In</Link>\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n            <div disabled={loading} className=\"w-100 text-center mt-2\">\r\n                Don't have an account? <Link to=\"/signup\">Sign Up</Link>\r\n            </div>\r\n        </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import React,{useState, useRef} from 'react'\r\nimport {Card, Form, Button, Alert} from 'react-bootstrap';\r\nimport {Link,useHistory} from 'react-router-dom';\r\nimport {useAuth} from './AuthContext';\r\nimport CenteredContainer from './CenteredContainer';\r\n\r\nconst UpdateProfile = () => {\r\n    const emailRef = useRef();\r\n    const passwordRef = useRef();\r\n    const passwordConfirmRef = useRef();\r\n    const {currentUser, updateEmail, updatePassword} = useAuth();\r\n    const history = useHistory();\r\n\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    function onSubmitForm(e){\r\n        e.preventDefault();\r\n        if(passwordRef.current.value !== passwordConfirmRef.current.value){\r\n            return setError('Passwords do not match!!')\r\n        }\r\n\r\n        const promises = [];\r\n        setLoading(true);\r\n        setError('');\r\n        if(emailRef.current.value !== currentUser.email.value){\r\n            promises.push(updateEmail(emailRef.current.value));\r\n        }\r\n        if(passwordRef.current.value){\r\n            promises.push(updatePassword(passwordRef.current.value));\r\n        }\r\n\r\n        Promise.all(promises).then(()=>{\r\n            history.push('/user')\r\n        }).catch(()=>{\r\n            setError('Failed to Update Pofile');\r\n        }).finally(()=>{\r\n            setLoading(false);\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <CenteredContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Update Profile</h2>\r\n                    {error && <Alert variant='danger'>{error}</Alert>}\r\n                    <Form onSubmit={onSubmitForm}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} placeholder=\"Email\" defaultValue={currentUser.email}></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef} placeholder=\"Password\" required></Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group id=\"passwordConfirm\">\r\n                            <Form.Label>Password Confirmation</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordConfirmRef} placeholder=\"Confirm Password\"></Form.Control>\r\n                        </Form.Group>\r\n                        <Button disabled={loading} type=\"submit\" className=\"w-100\">Update</Button>\r\n                    </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                <Link to=\"/user\">Cancel</Link>\r\n            </div>\r\n        </CenteredContainer>\r\n    )\r\n}\r\n\r\nexport default UpdateProfile;\r\n","import React from 'react'\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {useAuth} from './AuthContext';\r\n\r\nexport default function PrivateRoute({component:Component, ...rest}) {\r\n    \r\n    const {currentUser} = useAuth()\r\n\r\n    return (\r\n        <Route \r\n            {...rest}\r\n            render={props => {\r\n                return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n            }}        \r\n        >\r\n            \r\n        </Route>\r\n    )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/drive img.0b900c10.png\";","import React from 'react'\r\nimport {Navbar, Nav} from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom';\r\nimport DriveLogo from '../media/drive img.png';\r\n\r\nexport default function NavbarComp() {\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"lg\">\r\n            <Navbar.Brand as={Link} to=\"/\" className=\"d-flex align-items-center justify-content-center\">\r\n                <img\r\n                    alt=\"\"\r\n                    src={DriveLogo}\r\n                    width=\"20\"\r\n                    height=\"20\"\r\n                    className=\"d-inline-block align-top mr-2\"\r\n                />\r\n                Drive\r\n            </Navbar.Brand>\r\n\r\n            <Nav>\r\n                <Nav.Link as={Link} to=\"/user\">\r\n                    Profile\r\n                </Nav.Link>\r\n            </Nav>\r\n        </Navbar>\r\n    )\r\n}\r\n","import {useReducer, useEffect} from 'react';\r\nimport {database} from '../../firebase';\r\nimport {useAuth} from '../authentication/AuthContext';\r\n\r\n\r\nconst ACTIONS = {\r\n    SELECT_FOLDER: 'select-folder',\r\n    UPDATE_FOLDER: 'update-folder',\r\n    SET_CHILD_FOLDERS: 'set-child-folders',\r\n    SET_CHILD_FILES: 'set-child-files',\r\n\r\n}\r\n\r\nexport const ROOT_FOLDER = {name:'Root', id:null, path:[]};\r\n\r\nfunction reducer(state, {type, payload}){\r\n    switch(type){\r\n\r\n        case ACTIONS.SELECT_FOLDER:\r\n            return {\r\n                folderId:payload.folderId,\r\n                folder:payload.folder,\r\n                childFolders:[],\r\n                childFiles:[],\r\n            }\r\n        \r\n        case ACTIONS.UPDATE_FOLDER:\r\n            return{\r\n                ...state,\r\n                folder:payload.folder\r\n            }\r\n            \r\n        case ACTIONS.SET_CHILD_FOLDERS:\r\n            return{\r\n                ...state,\r\n                childFolders:payload.childFolders\r\n            }\r\n\r\n        case ACTIONS.SET_CHILD_FILES:\r\n            return{\r\n                ...state,\r\n                childFiles:payload.childFiles\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function useFolder(folderId = null, folder = null){\r\n    const [state, dispatch] = useReducer(reducer,{\r\n        folderId,\r\n        folder,\r\n        childFolders:[],\r\n        childFiles:[]\r\n    });\r\n\r\n    const {currentUser} = useAuth();\r\n\r\n    useEffect(() => {\r\n        dispatch({\r\n            type:ACTIONS.SELECT_FOLDER,\r\n            payload:{\r\n                folderId,\r\n                folder\r\n            }\r\n        })\r\n    }, [folderId, folder]);\r\n\r\n    useEffect(() => {\r\n        if(folderId == null){\r\n            return dispatch({\r\n                type:ACTIONS.UPDATE_FOLDER,\r\n                payload: {folder: ROOT_FOLDER}\r\n            })\r\n        }\r\n        database.folders.doc(folderId).get().then(doc=>{\r\n            dispatch({\r\n                type:ACTIONS.UPDATE_FOLDER,\r\n                payload: {folder: database.formatDoc(doc)}\r\n            })\r\n            \r\n        })\r\n        .catch(()=>{\r\n            dispatch({\r\n                type:ACTIONS.UPDATE_FOLDER,\r\n                payload: {folder: ROOT_FOLDER}\r\n            })\r\n        })\r\n    }, [folderId]);\r\n\r\n    useEffect(()=>{\r\n        return database.folders\r\n        .where('parentId','==',folderId)\r\n        .where('userId','==',currentUser.uid)\r\n        .orderBy('createdAt')\r\n        .onSnapshot(snapshot => {\r\n            dispatch({\r\n                type:ACTIONS.SET_CHILD_FOLDERS,\r\n                payload:{childFolders:snapshot.docs.map(database.formatDoc)}\r\n            })\r\n        })\r\n    },[folderId,currentUser])\r\n\r\n    useEffect(()=>{\r\n        return database.files\r\n        .where('folderId','==',folderId)\r\n        .where('userId','==',currentUser.uid)\r\n        .orderBy('createdAt')\r\n        .onSnapshot(snapshot => {\r\n            dispatch({\r\n                type:ACTIONS.SET_CHILD_FILES,\r\n                payload:{childFiles:snapshot.docs.map(database.formatDoc)}\r\n            })\r\n        })\r\n    },[folderId,currentUser])\r\n\r\n    return state;\r\n\r\n}","import React,{useState} from 'react';\r\nimport {Button,Modal,Form} from 'react-bootstrap';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faFolderPlus} from '@fortawesome/free-solid-svg-icons';\r\nimport {database} from '../../firebase';\r\nimport {useAuth} from '../authentication/AuthContext';\r\nimport {ROOT_FOLDER} from '../hooks/useFolder';\r\n\r\nexport default function FolderBtn({currentFolder}) {\r\n    const [open, setOpen] = useState(false)\r\n    const [name, setName] = useState('');\r\n    const {currentUser} = useAuth();\r\n\r\n    const openModal = () => {\r\n        setOpen(true);\r\n    }\r\n    const closeModal = () => {\r\n        setOpen(false);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(currentFolder == null) return\r\n\r\n        const path = [...currentFolder.path]\r\n        if(currentFolder !== ROOT_FOLDER){\r\n            path.push({name: currentFolder.name, id:currentFolder.id})\r\n        }\r\n        // Create a Folder Name to Database\r\n\r\n        database.folders.add({\r\n            name:name,\r\n            parentId: currentFolder.id,\r\n            userId:currentUser.uid,\r\n            path: path,\r\n            createdAt:database.getCurrentTimeStamp(),\r\n        })        \r\n        setName(\"\");\r\n        closeModal();\r\n    }\r\n    return (\r\n        <>\r\n        <Button onClick={openModal} variant=\"outline-success\" size=\"sm\">\r\n            <FontAwesomeIcon icon={faFolderPlus}/>\r\n        </Button>\r\n        <Modal show={open} onHide={closeModal}>\r\n            <Form onSubmit={handleSubmit}>\r\n                <Modal.Body>\r\n                    <Form.Group>\r\n                        <Form.Label>Folder Name</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            value={name}\r\n                            onChange={e => setName(e.target.value)}\r\n                            required\r\n                        />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={closeModal}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button type=\"submit\" variant=\"success\">\r\n                        Add Folder\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Form>\r\n        </Modal>\r\n        </>\r\n    )\r\n}\r\n","import React,{useState} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faFileUpload} from '@fortawesome/free-solid-svg-icons';\r\nimport {storage, database} from '../../firebase'\r\nimport {useAuth} from '../authentication/AuthContext'\r\nimport {ROOT_FOLDER} from '../hooks/useFolder';\r\nimport {v4 as uuidV4} from 'uuid';\r\nimport {Toast,ProgressBar} from 'react-bootstrap';\r\n\r\n\r\nexport default function AddFileButton({ currentFolder }) {\r\n    const [uploadingFiles, setUploadingFiles] = useState([])\r\n    const { currentUser } = useAuth()\r\n  \r\n    function handleUpload(e) {\r\n      const file = e.target.files[0]\r\n      if (currentFolder == null || file == null) return\r\n  \r\n      const id = uuidV4()\r\n      setUploadingFiles(prevUploadingFiles => [\r\n        ...prevUploadingFiles,\r\n        { id: id, name: file.name, progress: 0, error: false },\r\n      ])\r\n\r\n\r\n      const filePath =\r\n        currentFolder === ROOT_FOLDER\r\n          ? `${currentFolder.path.join(\"/\")}/${file.name}`\r\n          : `${currentFolder.path.join(\"/\")}/${currentFolder.name}/${file.name}`\r\n  \r\n      const uploadTask = storage\r\n        .ref(`/files/${currentUser.uid}/${filePath}`)\r\n        .put(file)\r\n  \r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        snapshot => {\r\n          const progress = snapshot.bytesTransferred / snapshot.totalBytes\r\n          setUploadingFiles(prevUploadingFiles => {\r\n            return prevUploadingFiles.map(uploadFile => {\r\n              if (uploadFile.id === id) {\r\n                return { ...uploadFile, progress: progress }\r\n              }\r\n  \r\n              return uploadFile\r\n            })\r\n          })\r\n        },\r\n        () => {\r\n          setUploadingFiles(prevUploadingFiles => {\r\n            return prevUploadingFiles.map(uploadFile => {\r\n              if (uploadFile.id === id) {\r\n                return { ...uploadFile, error: true }\r\n              }\r\n              return uploadFile\r\n            })\r\n          })\r\n        },\r\n        () => {\r\n          setUploadingFiles(prevUploadingFiles => {\r\n            return prevUploadingFiles.filter(uploadFile => {\r\n              return uploadFile.id !== id\r\n            })\r\n          })\r\n  \r\n          uploadTask.snapshot.ref.getDownloadURL().then(url => {\r\n            database.files\r\n              .where(\"name\", \"==\", file.name)\r\n              .where(\"userId\", \"==\", currentUser.uid)\r\n              .where(\"folderId\", \"==\", currentFolder.id)\r\n              .get()\r\n              .then(existingFiles => {\r\n                const existingFile = existingFiles.docs[0]\r\n                if (existingFile) {\r\n                  existingFile.ref.update({ url: url })\r\n                } else {\r\n                  database.files.add({\r\n                    url: url,\r\n                    name: file.name,\r\n                    createdAt: database.getCurrentTimestamp(),\r\n                    folderId: currentFolder.id,\r\n                    userId: currentUser.uid,\r\n                  })\r\n                }\r\n              })\r\n          })\r\n        }\r\n      )\r\n    }\r\n  \r\n    return (\r\n      <>\r\n        <label className=\"btn btn-outline-success btn-sm m-0 mr-2\">\r\n          <FontAwesomeIcon icon={faFileUpload} />\r\n          <input\r\n            type=\"file\"\r\n            onChange={handleUpload}\r\n            style={{ opacity: 0, position: \"absolute\", left: \"-9999px\" }}\r\n          />\r\n        </label>\r\n        {uploadingFiles.length > 0 &&\r\n          ReactDOM.createPortal(\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                bottom: \"1rem\",\r\n                right: \"1rem\",\r\n                maxWidth: \"250px\",\r\n              }}\r\n            >\r\n              {uploadingFiles.map(file => (\r\n                <Toast\r\n                  key={file.id}\r\n                  onClose={() => {\r\n                    setUploadingFiles(prevUploadingFiles => {\r\n                      return prevUploadingFiles.filter(uploadFile => {\r\n                        return uploadFile.id !== file.id\r\n                      })\r\n                    })\r\n                  }}\r\n                >\r\n                  <Toast.Header\r\n                    closeButton={file.error}\r\n                    className=\"text-truncate w-100 d-block\"\r\n                  >\r\n                    {file.name}\r\n                  </Toast.Header>\r\n                  <Toast.Body>\r\n                    <ProgressBar\r\n                      animated={!file.error}\r\n                      variant={file.error ? \"danger\" : \"primary\"}\r\n                      now={file.error ? 100 : file.progress * 100}\r\n                      label={\r\n                        file.error\r\n                          ? \"Error\"\r\n                          : `${Math.round(file.progress * 100)}%`\r\n                      }\r\n                    />\r\n                  </Toast.Body>\r\n                </Toast>\r\n              ))}\r\n            </div>,\r\n            document.body\r\n          )}\r\n      </>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {Breadcrumb} from 'react-bootstrap';\r\nimport {ROOT_FOLDER} from '../hooks/useFolder';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nexport default function FolderBreadcrumbs({ currentFolder }) {\r\n    let path = currentFolder === ROOT_FOLDER ? [] : [ROOT_FOLDER]\r\n    if(currentFolder) path = [...path, ...currentFolder.path]\r\n    \r\n    return (\r\n      <Breadcrumb\r\n        className=\"flex-grow-1\"\r\n        listProps={{ className: \"bg-white pl-0 m-0\" }}\r\n      >\r\n        {path.map((folder, index) => (\r\n          <Breadcrumb.Item\r\n            key={folder.id}\r\n            linkAs={Link}\r\n            linkProps={{\r\n              to: {\r\n                pathname: folder.id ? `/folder/${folder.id}` : \"/\",\r\n                state: { folder: { ...folder, path: path.slice(1, index) } },\r\n              },\r\n            }}\r\n            className=\"text-truncate d-inline-block\"\r\n            style={{ maxWidth: \"150px\" }}\r\n          >\r\n            {folder.name}\r\n          </Breadcrumb.Item>\r\n        ))}\r\n        {currentFolder && (\r\n          <Breadcrumb.Item\r\n            className=\"text-truncate d-inline-block\"\r\n            style={{ maxWidth: \"200px\" }}\r\n            active\r\n          >\r\n            {currentFolder.name}\r\n          </Breadcrumb.Item>\r\n        )}\r\n      </Breadcrumb>\r\n    )\r\n}","import React from 'react'\r\nimport {Button} from 'react-bootstrap'\r\nimport {Link} from 'react-router-dom';\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faFolder} from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function Folder({folder}) {\r\n    return (\r\n        <>\r\n            <Button as={Link} to={{pathname:`/folder/${folder.id}`, state:{folder:folder}}} variant=\"outline-dark\" className=\"text-truncate w-100\">\r\n                <FontAwesomeIcon icon={faFolder} className=\"mr-2\" />\r\n                {folder.name}\r\n            </Button>\r\n        </>\r\n    )\r\n}\r\n//export default Folder;\r\n","import React from 'react'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\r\nimport {faFile} from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function File({file}) {\r\n    return (\r\n        <>\r\n            <a href={file.url} target=\"_blank\" className=\"btn btn-outline-dark text-truncate w-100\">\r\n                <FontAwesomeIcon icon={faFile} className=\"mr-2\" />\r\n                {file.name}\r\n            </a>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Navbar from './Navbar';\r\nimport {Container} from 'react-bootstrap';\r\nimport FolderBtn from './FolderBtn';\r\nimport FileBtn from './FileBtn';\r\nimport FolderBreadcrumbs from './FolderBreadcrums';\r\nimport {useFolder} from '../hooks/useFolder';\r\nimport Folder from './Folder';\r\nimport File from './File';\r\nimport {useParams, useLocation} from 'react-router-dom';\r\n\r\nexport default function Dashboard() {\r\n    const { folderId } = useParams()\r\n    const { state = {} } = useLocation()\r\n    const { folder, childFolders, childFiles } = useFolder(folderId, state.folder)\r\n  \r\n    return (\r\n      <>\r\n        <Navbar />\r\n        <Container fluid>\r\n          <div className=\"d-flex align-items-center\">\r\n            <FolderBreadcrumbs currentFolder={folder} />\r\n            <FileBtn currentFolder={folder} />\r\n            <FolderBtn currentFolder={folder} />\r\n          </div>\r\n          {childFolders.length > 0 && (\r\n            <div className=\"d-flex flex-wrap\">\r\n              {childFolders.map(childFolder => (\r\n                <div\r\n                  key={childFolder.id}\r\n                  style={{ maxWidth: \"250px\" }}\r\n                  className=\"p-2\"\r\n                >\r\n                  <Folder folder={childFolder} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n          {childFolders.length > 0 && childFiles.length > 0 && <hr />}\r\n          {childFiles.length > 0 && (\r\n            <div className=\"d-flex flex-wrap\">\r\n              {childFiles.map(childFile => (\r\n                <div\r\n                  key={childFile.id}\r\n                  style={{ maxWidth: \"250px\" }}\r\n                  className=\"p-2\"\r\n                >\r\n                  <File file={childFile} />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </Container>\r\n      </>\r\n    )\r\n}\r\n","import './App.css';\r\n\r\nimport {HashRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport SignUp from './components/authentication/SignUp';\r\nimport Profile from './components/Profile';\r\nimport LogIn from './components/authentication/LogIn';\r\nimport ForgotPassword from './components/authentication/ForgotPassword';\r\nimport UpdateProfile from './components/authentication/UpdateProfile';\r\nimport {AuthProvider} from './components/authentication/AuthContext';\r\nimport PrivateRoute from './components/authentication/PrivateRoute';\r\nimport Dashboard from './components/dashboard/Dashboard';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <AuthProvider>\r\n          <Switch>\r\n\r\n            <PrivateRoute exact path=\"/\" component={Dashboard} />\r\n            <PrivateRoute exact path=\"/folder/:folderId\" component={Dashboard} />\r\n\r\n            <PrivateRoute path=\"/user\" component={Profile}/>\r\n            <PrivateRoute path=\"/update-profile\" component={UpdateProfile} />\r\n\r\n            <Route path=\"/signup\" component={SignUp}/>\r\n            <Route path=\"/login\" component={LogIn}/>\r\n            <Route path=\"/forgot-password\" component={ForgotPassword}/>\r\n            \r\n          </Switch>\r\n        </AuthProvider>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}